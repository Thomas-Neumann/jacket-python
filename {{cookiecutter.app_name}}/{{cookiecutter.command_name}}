#!/usr/bin/env python3
"""
CLI frontend for {{cookiecutter.pypackage_name}}

{{cookiecutter.description}}

usage:
    ./{{cookiecutter.command_name}} --help
"""

# standard imports
import argparse
import logging
import os
import sys

# extra imports (make sure to add them to requirements.txt!)
# <add extra imports here, e.g. 'boto3' 'requests'>

sys.path.insert(0, os.path.dirname(__file__) + "/src")

# pylint: disable=wrong-import-position
import {{cookiecutter.pypackage_name}}


if __name__ == "__main__":
    # configure a nice format for command line logging -> 'I: <message>'
    logging.basicConfig(format='%(levelname).1s: %(message)s', level=logging.INFO)

    # documentation: https://docs.python.org/3/library/argparse.html
    parser = argparse.ArgumentParser(description='{{cookiecutter.description}}', allow_abbrev=False)
    # <some example parameters>
    parser.add_argument('--version', action='version', version=f"%(prog)s v{{ '{' }}{{cookiecutter.pypackage_name}}.VERSIONSTRING{{ '}' }}")
    parser.add_argument('values', metavar='[VALUES]', nargs='*', help="multiple command line parameters")
    # </some example parameters>
    args = parser.parse_args()

    try:
        # <this is just an example - replace as needed>
        result = {{cookiecutter.pypackage_name}}.{{cookiecutter.main_function}}(args.values)
        if result is not None:
            print(result)
        # </this is just an example - replace as needed>
    except KeyboardInterrupt:
        logging.debug("Ctrl-C detected. Terminating.")
        sys.exit(1)
